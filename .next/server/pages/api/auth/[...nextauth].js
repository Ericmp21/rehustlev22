"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/[...nextauth]";
exports.ids = ["pages/api/auth/[...nextauth]"];
exports.modules = {

/***/ "(api-node)/./lib/auth.js":
/*!*********************!*\
  !*** ./lib/auth.js ***!
  \*********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   getUserByEmail: () => (/* binding */ getUserByEmail),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   isAuthenticated: () => (/* binding */ isAuthenticated),\n/* harmony export */   requireAuthentication: () => (/* binding */ requireAuthentication),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword)\n/* harmony export */ });\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/react */ \"next-auth/react\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var _mongodb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mongodb */ \"(api-node)/./lib/mongodb.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([bcryptjs__WEBPACK_IMPORTED_MODULE_1__]);\nbcryptjs__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nasync function hashPassword(password) {\n    return await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hash(password, 12);\n}\nasync function verifyPassword(password, hashedPassword) {\n    return await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].compare(password, hashedPassword);\n}\n// Get user from MongoDB using their email\nasync function getUserByEmail(email) {\n    try {\n        const db = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n        const user = await db.collection('users').findOne({\n            email\n        });\n        return user;\n    } catch (error) {\n        console.error('Error in getUserByEmail:', error);\n        throw new Error('Database error when fetching user');\n    }\n}\n// Create a new user in MongoDB\nasync function createUser(userData) {\n    try {\n        const db = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n        const { email, password, name } = userData;\n        const hashedPassword = await hashPassword(password);\n        const result = await db.collection('users').insertOne({\n            email,\n            password: hashedPassword,\n            name,\n            createdAt: new Date()\n        });\n        return {\n            id: result.insertedId,\n            email,\n            name\n        };\n    } catch (error) {\n        console.error('Error in createUser:', error);\n        throw new Error('Database error when creating user');\n    }\n}\n// Check if a user is authenticated for API routes\nasync function isAuthenticated(req, res) {\n    const session = await (0,next_auth_react__WEBPACK_IMPORTED_MODULE_0__.getSession)({\n        req\n    });\n    if (!session) {\n        res.status(401).json({\n            error: 'Not authenticated'\n        });\n        return false;\n    }\n    return session;\n}\n// Check if a user is authenticated and redirect if not (for pages)\nasync function requireAuthentication(context) {\n    const session = await (0,next_auth_react__WEBPACK_IMPORTED_MODULE_0__.getSession)(context);\n    if (!session) {\n        return {\n            redirect: {\n                destination: '/login',\n                permanent: false\n            }\n        };\n    }\n    return {\n        props: {\n            session\n        }\n    };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9hdXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNkM7QUFDZjtBQUNVO0FBRWpDLGVBQWVHLGFBQWFDLFFBQVE7SUFDekMsT0FBTyxNQUFNSCxxREFBVyxDQUFDRyxVQUFVO0FBQ3JDO0FBRU8sZUFBZUUsZUFBZUYsUUFBUSxFQUFFRyxjQUFjO0lBQzNELE9BQU8sTUFBTU4sd0RBQWMsQ0FBQ0csVUFBVUc7QUFDeEM7QUFFQSwwQ0FBMEM7QUFDbkMsZUFBZUUsZUFBZUMsS0FBSztJQUN4QyxJQUFJO1FBQ0YsTUFBTUMsS0FBSyxNQUFNVCxxREFBV0E7UUFDNUIsTUFBTVUsT0FBTyxNQUFNRCxHQUFHRSxVQUFVLENBQUMsU0FBU0MsT0FBTyxDQUFDO1lBQUVKO1FBQU07UUFDMUQsT0FBT0U7SUFDVCxFQUFFLE9BQU9HLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDRCQUE0QkE7UUFDMUMsTUFBTSxJQUFJRSxNQUFNO0lBQ2xCO0FBQ0Y7QUFFQSwrQkFBK0I7QUFDeEIsZUFBZUMsV0FBV0MsUUFBUTtJQUN2QyxJQUFJO1FBQ0YsTUFBTVIsS0FBSyxNQUFNVCxxREFBV0E7UUFFNUIsTUFBTSxFQUFFUSxLQUFLLEVBQUVOLFFBQVEsRUFBRWdCLElBQUksRUFBRSxHQUFHRDtRQUNsQyxNQUFNWixpQkFBaUIsTUFBTUosYUFBYUM7UUFFMUMsTUFBTWlCLFNBQVMsTUFBTVYsR0FBR0UsVUFBVSxDQUFDLFNBQVNTLFNBQVMsQ0FBQztZQUNwRFo7WUFDQU4sVUFBVUc7WUFDVmE7WUFDQUcsV0FBVyxJQUFJQztRQUNqQjtRQUVBLE9BQU87WUFBRUMsSUFBSUosT0FBT0ssVUFBVTtZQUFFaEI7WUFBT1U7UUFBSztJQUM5QyxFQUFFLE9BQU9MLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHdCQUF3QkE7UUFDdEMsTUFBTSxJQUFJRSxNQUFNO0lBQ2xCO0FBQ0Y7QUFFQSxrREFBa0Q7QUFDM0MsZUFBZVUsZ0JBQWdCQyxHQUFHLEVBQUVDLEdBQUc7SUFDNUMsTUFBTUMsVUFBVSxNQUFNOUIsMkRBQVVBLENBQUM7UUFBRTRCO0lBQUk7SUFFdkMsSUFBSSxDQUFDRSxTQUFTO1FBQ1pELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRWpCLE9BQU87UUFBb0I7UUFDbEQsT0FBTztJQUNUO0lBRUEsT0FBT2U7QUFDVDtBQUVBLG1FQUFtRTtBQUM1RCxlQUFlRyxzQkFBc0JDLE9BQU87SUFDakQsTUFBTUosVUFBVSxNQUFNOUIsMkRBQVVBLENBQUNrQztJQUVqQyxJQUFJLENBQUNKLFNBQVM7UUFDWixPQUFPO1lBQ0xLLFVBQVU7Z0JBQ1JDLGFBQWE7Z0JBQ2JDLFdBQVc7WUFDYjtRQUNGO0lBQ0Y7SUFFQSxPQUFPO1FBQUVDLE9BQU87WUFBRVI7UUFBUTtJQUFFO0FBQzlCIiwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL2xpYi9hdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICduZXh0LWF1dGgvcmVhY3QnO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcyc7XG5pbXBvcnQgeyBnZXREYXRhYmFzZSB9IGZyb20gJy4vbW9uZ29kYic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYXNoUGFzc3dvcmQocGFzc3dvcmQpIHtcbiAgcmV0dXJuIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMik7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQYXNzd29yZChwYXNzd29yZCwgaGFzaGVkUGFzc3dvcmQpIHtcbiAgcmV0dXJuIGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBoYXNoZWRQYXNzd29yZCk7XG59XG5cbi8vIEdldCB1c2VyIGZyb20gTW9uZ29EQiB1c2luZyB0aGVpciBlbWFpbFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJCeUVtYWlsKGVtYWlsKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGIgPSBhd2FpdCBnZXREYXRhYmFzZSgpO1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmZpbmRPbmUoeyBlbWFpbCB9KTtcbiAgICByZXR1cm4gdXNlcjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBnZXRVc2VyQnlFbWFpbDonLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhYmFzZSBlcnJvciB3aGVuIGZldGNoaW5nIHVzZXInKTtcbiAgfVxufVxuXG4vLyBDcmVhdGUgYSBuZXcgdXNlciBpbiBNb25nb0RCXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVXNlcih1c2VyRGF0YSkge1xuICB0cnkge1xuICAgIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGF0YWJhc2UoKTtcbiAgICBcbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCwgbmFtZSB9ID0gdXNlckRhdGE7XG4gICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBoYXNoUGFzc3dvcmQocGFzc3dvcmQpO1xuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuaW5zZXJ0T25lKHtcbiAgICAgIGVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxuICAgICAgbmFtZSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4geyBpZDogcmVzdWx0Lmluc2VydGVkSWQsIGVtYWlsLCBuYW1lIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gY3JlYXRlVXNlcjonLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhYmFzZSBlcnJvciB3aGVuIGNyZWF0aW5nIHVzZXInKTtcbiAgfVxufVxuXG4vLyBDaGVjayBpZiBhIHVzZXIgaXMgYXV0aGVudGljYXRlZCBmb3IgQVBJIHJvdXRlc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZChyZXEsIHJlcykge1xuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2Vzc2lvbih7IHJlcSB9KTtcbiAgXG4gIGlmICghc2Vzc2lvbikge1xuICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdOb3QgYXV0aGVudGljYXRlZCcgfSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIFxuICByZXR1cm4gc2Vzc2lvbjtcbn1cblxuLy8gQ2hlY2sgaWYgYSB1c2VyIGlzIGF1dGhlbnRpY2F0ZWQgYW5kIHJlZGlyZWN0IGlmIG5vdCAoZm9yIHBhZ2VzKVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVpcmVBdXRoZW50aWNhdGlvbihjb250ZXh0KSB7XG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXNzaW9uKGNvbnRleHQpO1xuICBcbiAgaWYgKCFzZXNzaW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZGlyZWN0OiB7XG4gICAgICAgIGRlc3RpbmF0aW9uOiAnL2xvZ2luJyxcbiAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBcbiAgcmV0dXJuIHsgcHJvcHM6IHsgc2Vzc2lvbiB9IH07XG59Il0sIm5hbWVzIjpbImdldFNlc3Npb24iLCJiY3J5cHQiLCJnZXREYXRhYmFzZSIsImhhc2hQYXNzd29yZCIsInBhc3N3b3JkIiwiaGFzaCIsInZlcmlmeVBhc3N3b3JkIiwiaGFzaGVkUGFzc3dvcmQiLCJjb21wYXJlIiwiZ2V0VXNlckJ5RW1haWwiLCJlbWFpbCIsImRiIiwidXNlciIsImNvbGxlY3Rpb24iLCJmaW5kT25lIiwiZXJyb3IiLCJjb25zb2xlIiwiRXJyb3IiLCJjcmVhdGVVc2VyIiwidXNlckRhdGEiLCJuYW1lIiwicmVzdWx0IiwiaW5zZXJ0T25lIiwiY3JlYXRlZEF0IiwiRGF0ZSIsImlkIiwiaW5zZXJ0ZWRJZCIsImlzQXV0aGVudGljYXRlZCIsInJlcSIsInJlcyIsInNlc3Npb24iLCJzdGF0dXMiLCJqc29uIiwicmVxdWlyZUF1dGhlbnRpY2F0aW9uIiwiY29udGV4dCIsInJlZGlyZWN0IiwiZGVzdGluYXRpb24iLCJwZXJtYW5lbnQiLCJwcm9wcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/auth.js\n");

/***/ }),

/***/ "(api-node)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DB_NAME: () => (/* binding */ DB_NAME),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\n// Database Name - change this if you want to use a different database\nconst DB_NAME = 'rehustle';\n// Connection URI - parse and clean the URI\nconst uri = process.env.MONGODB_URI;\n// Try to detect if we need to adjust the URI to work around SSL issues\nlet parsedUri = uri;\ntry {\n    // For Atlas connection, remove SSL parameters if needed\n    if (uri && uri.includes('mongodb+srv://')) {\n        // Remove SSL parameters if they exist\n        parsedUri = uri.split('?')[0] + '?retryWrites=true&w=majority';\n        console.log('Adjusted MongoDB URI for better compatibility');\n    }\n} catch (e) {\n    console.error('Error parsing MongoDB URI:', e);\n}\n// Connection Options - minimal to avoid issues\nconst options = {\n    connectTimeoutMS: 30000,\n    serverSelectionTimeoutMS: 30000\n};\n// Check if MongoDB URI is configured\nif (!process.env.MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable.\");\n}\n// Global variable to cache the MongoDB connection promise\nlet client;\nlet clientPromise;\nif (true) {\n    // In development mode, use a global variable so that the value\n    // is preserved across module reloads caused by HMR (Hot Module Replacement).\n    if (!global._mongoClientPromise) {\n        client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(parsedUri, options);\n        global._mongoClientPromise = client.connect().catch((err)=>{\n            console.error(\"Failed to connect to MongoDB:\", err);\n            // Don't throw error, just return null to allow the app to continue\n            return null;\n        });\n    }\n    clientPromise = global._mongoClientPromise;\n} else {}\n// Helper function to get the database\nasync function getDatabase() {\n    try {\n        const client = await clientPromise;\n        if (!client) {\n            console.warn(\"MongoDB client is null, database operations will fail\");\n            throw new Error(\"MongoDB connection not available\");\n        }\n        return client.db(DB_NAME);\n    } catch (error) {\n        console.error(\"Error getting database:\", error);\n        // Return a fallback object for development\n        if (true) {\n            console.warn(\"Using in-memory fallback for database in development\");\n            return {\n                collection: ()=>({\n                        // Mock collection methods that return empty results and don't fail\n                        findOne: async ()=>null,\n                        find: ()=>({\n                                sort: ()=>({\n                                        toArray: async ()=>[]\n                                    })\n                            }),\n                        insertOne: async ()=>({\n                                insertedId: \"mock-id-\" + Date.now()\n                            }),\n                        deleteOne: async ()=>({\n                                deletedCount: 1\n                            }),\n                        findOneAndUpdate: async ()=>({\n                                value: null\n                            })\n                    }),\n                listCollections: ()=>({\n                        toArray: async ()=>[]\n                    }),\n                command: async ()=>({\n                        ok: 0\n                    })\n            };\n        }\n        throw error;\n    }\n}\n// Export clientPromise\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clientPromise);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9tb25nb2RiLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXNDO0FBRXRDLHNFQUFzRTtBQUMvRCxNQUFNQyxVQUFVLFdBQVc7QUFFbEMsMkNBQTJDO0FBQzNDLE1BQU1DLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ0MsV0FBVztBQUVuQyx1RUFBdUU7QUFDdkUsSUFBSUMsWUFBWUo7QUFDaEIsSUFBSTtJQUNGLHdEQUF3RDtJQUN4RCxJQUFJQSxPQUFPQSxJQUFJSyxRQUFRLENBQUMsbUJBQW1CO1FBQ3pDLHNDQUFzQztRQUN0Q0QsWUFBWUosSUFBSU0sS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUc7UUFDaENDLFFBQVFDLEdBQUcsQ0FBQztJQUNkO0FBQ0YsRUFBRSxPQUFPQyxHQUFHO0lBQ1ZGLFFBQVFHLEtBQUssQ0FBQyw4QkFBOEJEO0FBQzlDO0FBRUEsK0NBQStDO0FBQy9DLE1BQU1FLFVBQVU7SUFDZEMsa0JBQWtCO0lBQ2xCQywwQkFBMEI7QUFDNUI7QUFFQSxxQ0FBcUM7QUFDckMsSUFBSSxDQUFDWixRQUFRQyxHQUFHLENBQUNDLFdBQVcsRUFBRTtJQUM1QixNQUFNLElBQUlXLE1BQU07QUFDbEI7QUFFQSwwREFBMEQ7QUFDMUQsSUFBSUM7QUFDSixJQUFJQztBQUVKLElBQUlmLElBQXNDLEVBQUU7SUFDMUMsK0RBQStEO0lBQy9ELDZFQUE2RTtJQUM3RSxJQUFJLENBQUNnQixPQUFPQyxtQkFBbUIsRUFBRTtRQUMvQkgsU0FBUyxJQUFJakIsZ0RBQVdBLENBQUNNLFdBQVdPO1FBQ3BDTSxPQUFPQyxtQkFBbUIsR0FBR0gsT0FBT0ksT0FBTyxHQUN4Q0MsS0FBSyxDQUFDQyxDQUFBQTtZQUNMZCxRQUFRRyxLQUFLLENBQUMsaUNBQWlDVztZQUMvQyxtRUFBbUU7WUFDbkUsT0FBTztRQUNUO0lBQ0o7SUFDQUwsZ0JBQWdCQyxPQUFPQyxtQkFBbUI7QUFDNUMsT0FBTyxFQVNOO0FBRUQsc0NBQXNDO0FBQy9CLGVBQWVJO0lBQ3BCLElBQUk7UUFDRixNQUFNUCxTQUFTLE1BQU1DO1FBQ3JCLElBQUksQ0FBQ0QsUUFBUTtZQUNYUixRQUFRZ0IsSUFBSSxDQUFDO1lBQ2IsTUFBTSxJQUFJVCxNQUFNO1FBQ2xCO1FBQ0EsT0FBT0MsT0FBT1MsRUFBRSxDQUFDekI7SUFDbkIsRUFBRSxPQUFPVyxPQUFPO1FBQ2RILFFBQVFHLEtBQUssQ0FBQywyQkFBMkJBO1FBQ3pDLDJDQUEyQztRQUMzQyxJQUFJVCxJQUFzQyxFQUFFO1lBQzFDTSxRQUFRZ0IsSUFBSSxDQUFDO1lBQ2IsT0FBTztnQkFDTEUsWUFBWSxJQUFPO3dCQUNqQixtRUFBbUU7d0JBQ25FQyxTQUFTLFVBQVk7d0JBQ3JCQyxNQUFNLElBQU87Z0NBQUVDLE1BQU0sSUFBTzt3Q0FBRUMsU0FBUyxVQUFZLEVBQUU7b0NBQUM7NEJBQUc7d0JBQ3pEQyxXQUFXLFVBQWE7Z0NBQUVDLFlBQVksYUFBYUMsS0FBS0MsR0FBRzs0QkFBRzt3QkFDOURDLFdBQVcsVUFBYTtnQ0FBRUMsY0FBYzs0QkFBRTt3QkFDMUNDLGtCQUFrQixVQUFhO2dDQUFFQyxPQUFPOzRCQUFLO29CQUMvQztnQkFDQUMsaUJBQWlCLElBQU87d0JBQUVULFNBQVMsVUFBWSxFQUFFO29CQUFDO2dCQUNsRFUsU0FBUyxVQUFhO3dCQUFFQyxJQUFJO29CQUFFO1lBQ2hDO1FBQ0Y7UUFDQSxNQUFNOUI7SUFDUjtBQUNGO0FBRUEsdUJBQXVCO0FBQ3ZCLGlFQUFlTSxhQUFhQSxFQUFDIiwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL2xpYi9tb25nb2RiLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vbmdvQ2xpZW50IH0gZnJvbSBcIm1vbmdvZGJcIjtcblxuLy8gRGF0YWJhc2UgTmFtZSAtIGNoYW5nZSB0aGlzIGlmIHlvdSB3YW50IHRvIHVzZSBhIGRpZmZlcmVudCBkYXRhYmFzZVxuZXhwb3J0IGNvbnN0IERCX05BTUUgPSAncmVodXN0bGUnO1xuXG4vLyBDb25uZWN0aW9uIFVSSSAtIHBhcnNlIGFuZCBjbGVhbiB0aGUgVVJJXG5jb25zdCB1cmkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcblxuLy8gVHJ5IHRvIGRldGVjdCBpZiB3ZSBuZWVkIHRvIGFkanVzdCB0aGUgVVJJIHRvIHdvcmsgYXJvdW5kIFNTTCBpc3N1ZXNcbmxldCBwYXJzZWRVcmkgPSB1cmk7XG50cnkge1xuICAvLyBGb3IgQXRsYXMgY29ubmVjdGlvbiwgcmVtb3ZlIFNTTCBwYXJhbWV0ZXJzIGlmIG5lZWRlZFxuICBpZiAodXJpICYmIHVyaS5pbmNsdWRlcygnbW9uZ29kYitzcnY6Ly8nKSkge1xuICAgIC8vIFJlbW92ZSBTU0wgcGFyYW1ldGVycyBpZiB0aGV5IGV4aXN0XG4gICAgcGFyc2VkVXJpID0gdXJpLnNwbGl0KCc/JylbMF0gKyAnP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eSc7XG4gICAgY29uc29sZS5sb2coJ0FkanVzdGVkIE1vbmdvREIgVVJJIGZvciBiZXR0ZXIgY29tcGF0aWJpbGl0eScpO1xuICB9XG59IGNhdGNoIChlKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgTW9uZ29EQiBVUkk6JywgZSk7XG59XG5cbi8vIENvbm5lY3Rpb24gT3B0aW9ucyAtIG1pbmltYWwgdG8gYXZvaWQgaXNzdWVzXG5jb25zdCBvcHRpb25zID0ge1xuICBjb25uZWN0VGltZW91dE1TOiAzMDAwMCxcbiAgc2VydmVyU2VsZWN0aW9uVGltZW91dE1TOiAzMDAwMFxufTtcblxuLy8gQ2hlY2sgaWYgTW9uZ29EQiBVUkkgaXMgY29uZmlndXJlZFxuaWYgKCFwcm9jZXNzLmVudi5NT05HT0RCX1VSSSkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgZGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZS5cIik7XG59XG5cbi8vIEdsb2JhbCB2YXJpYWJsZSB0byBjYWNoZSB0aGUgTW9uZ29EQiBjb25uZWN0aW9uIHByb21pc2VcbmxldCBjbGllbnQ7XG5sZXQgY2xpZW50UHJvbWlzZTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIpIHtcbiAgLy8gSW4gZGV2ZWxvcG1lbnQgbW9kZSwgdXNlIGEgZ2xvYmFsIHZhcmlhYmxlIHNvIHRoYXQgdGhlIHZhbHVlXG4gIC8vIGlzIHByZXNlcnZlZCBhY3Jvc3MgbW9kdWxlIHJlbG9hZHMgY2F1c2VkIGJ5IEhNUiAoSG90IE1vZHVsZSBSZXBsYWNlbWVudCkuXG4gIGlmICghZ2xvYmFsLl9tb25nb0NsaWVudFByb21pc2UpIHtcbiAgICBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQocGFyc2VkVXJpLCBvcHRpb25zKTtcbiAgICBnbG9iYWwuX21vbmdvQ2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KClcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gTW9uZ29EQjpcIiwgZXJyKTtcbiAgICAgICAgLy8gRG9uJ3QgdGhyb3cgZXJyb3IsIGp1c3QgcmV0dXJuIG51bGwgdG8gYWxsb3cgdGhlIGFwcCB0byBjb250aW51ZVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pO1xuICB9XG4gIGNsaWVudFByb21pc2UgPSBnbG9iYWwuX21vbmdvQ2xpZW50UHJvbWlzZTtcbn0gZWxzZSB7XG4gIC8vIEluIHByb2R1Y3Rpb24gbW9kZSwgaXQncyBiZXN0IHRvIG5vdCB1c2UgYSBnbG9iYWwgdmFyaWFibGUuXG4gIGNsaWVudCA9IG5ldyBNb25nb0NsaWVudChwYXJzZWRVcmksIG9wdGlvbnMpO1xuICBjbGllbnRQcm9taXNlID0gY2xpZW50LmNvbm5lY3QoKVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBjb25uZWN0IHRvIE1vbmdvREI6XCIsIGVycik7XG4gICAgICAvLyBEb24ndCB0aHJvdyBlcnJvciwganVzdCByZXR1cm4gbnVsbCB0byBhbGxvdyB0aGUgYXBwIHRvIGNvbnRpbnVlXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9KTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCB0aGUgZGF0YWJhc2VcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREYXRhYmFzZSgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlO1xuICAgIGlmICghY2xpZW50KSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJNb25nb0RCIGNsaWVudCBpcyBudWxsLCBkYXRhYmFzZSBvcGVyYXRpb25zIHdpbGwgZmFpbFwiKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk1vbmdvREIgY29ubmVjdGlvbiBub3QgYXZhaWxhYmxlXCIpO1xuICAgIH1cbiAgICByZXR1cm4gY2xpZW50LmRiKERCX05BTUUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGFiYXNlOlwiLCBlcnJvcik7XG4gICAgLy8gUmV0dXJuIGEgZmFsbGJhY2sgb2JqZWN0IGZvciBkZXZlbG9wbWVudFxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJVc2luZyBpbi1tZW1vcnkgZmFsbGJhY2sgZm9yIGRhdGFiYXNlIGluIGRldmVsb3BtZW50XCIpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29sbGVjdGlvbjogKCkgPT4gKHtcbiAgICAgICAgICAvLyBNb2NrIGNvbGxlY3Rpb24gbWV0aG9kcyB0aGF0IHJldHVybiBlbXB0eSByZXN1bHRzIGFuZCBkb24ndCBmYWlsXG4gICAgICAgICAgZmluZE9uZTogYXN5bmMgKCkgPT4gbnVsbCxcbiAgICAgICAgICBmaW5kOiAoKSA9PiAoeyBzb3J0OiAoKSA9PiAoeyB0b0FycmF5OiBhc3luYyAoKSA9PiBbXSB9KSB9KSxcbiAgICAgICAgICBpbnNlcnRPbmU6IGFzeW5jICgpID0+ICh7IGluc2VydGVkSWQ6IFwibW9jay1pZC1cIiArIERhdGUubm93KCkgfSksXG4gICAgICAgICAgZGVsZXRlT25lOiBhc3luYyAoKSA9PiAoeyBkZWxldGVkQ291bnQ6IDEgfSksXG4gICAgICAgICAgZmluZE9uZUFuZFVwZGF0ZTogYXN5bmMgKCkgPT4gKHsgdmFsdWU6IG51bGwgfSksXG4gICAgICAgIH0pLFxuICAgICAgICBsaXN0Q29sbGVjdGlvbnM6ICgpID0+ICh7IHRvQXJyYXk6IGFzeW5jICgpID0+IFtdIH0pLFxuICAgICAgICBjb21tYW5kOiBhc3luYyAoKSA9PiAoeyBvazogMCB9KSxcbiAgICAgIH07XG4gICAgfVxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8vIEV4cG9ydCBjbGllbnRQcm9taXNlXG5leHBvcnQgZGVmYXVsdCBjbGllbnRQcm9taXNlOyJdLCJuYW1lcyI6WyJNb25nb0NsaWVudCIsIkRCX05BTUUiLCJ1cmkiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJwYXJzZWRVcmkiLCJpbmNsdWRlcyIsInNwbGl0IiwiY29uc29sZSIsImxvZyIsImUiLCJlcnJvciIsIm9wdGlvbnMiLCJjb25uZWN0VGltZW91dE1TIiwic2VydmVyU2VsZWN0aW9uVGltZW91dE1TIiwiRXJyb3IiLCJjbGllbnQiLCJjbGllbnRQcm9taXNlIiwiZ2xvYmFsIiwiX21vbmdvQ2xpZW50UHJvbWlzZSIsImNvbm5lY3QiLCJjYXRjaCIsImVyciIsImdldERhdGFiYXNlIiwid2FybiIsImRiIiwiY29sbGVjdGlvbiIsImZpbmRPbmUiLCJmaW5kIiwic29ydCIsInRvQXJyYXkiLCJpbnNlcnRPbmUiLCJpbnNlcnRlZElkIiwiRGF0ZSIsIm5vdyIsImRlbGV0ZU9uZSIsImRlbGV0ZWRDb3VudCIsImZpbmRPbmVBbmRVcGRhdGUiLCJ2YWx1ZSIsImxpc3RDb2xsZWN0aW9ucyIsImNvbW1hbmQiLCJvayJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/mongodb.js\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_auth_nextauth_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/auth/[...nextauth].js */ \"(api-node)/./pages/api/auth/[...nextauth].js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_auth_nextauth_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_auth_nextauth_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_nextauth_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_nextauth_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/[...nextauth]\",\n        pathname: \"/api/auth/[...nextauth]\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_auth_nextauth_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGYXV0aCUyRiU1Qi4uLm5leHRhdXRoJTVEJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDOEQ7QUFDOUQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHdEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyx3REFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0uanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/auth/[...nextauth].js":
/*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].js ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _next_auth_mongodb_adapter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @next-auth/mongodb-adapter */ \"@next-auth/mongodb-adapter\");\n/* harmony import */ var _next_auth_mongodb_adapter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_next_auth_mongodb_adapter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/mongodb */ \"(api-node)/./lib/mongodb.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/auth */ \"(api-node)/./lib/auth.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_auth__WEBPACK_IMPORTED_MODULE_4__]);\n_lib_auth__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n// Do a test connection to MongoDB\nlet mongoDbConnected = false;\n(async ()=>{\n    try {\n        const client = await _lib_mongodb__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\n        const result = await client.db().command({\n            ping: 1\n        });\n        if (result.ok === 1) {\n            console.log(\"MongoDB connection successful\");\n            mongoDbConnected = true;\n        }\n    } catch (error) {\n        console.error(\"MongoDB connection error:\", error);\n    }\n})();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth__WEBPACK_IMPORTED_MODULE_0___default()({\n    ...mongoDbConnected ? {\n        adapter: (0,_next_auth_mongodb_adapter__WEBPACK_IMPORTED_MODULE_2__.MongoDBAdapter)(_lib_mongodb__WEBPACK_IMPORTED_MODULE_3__[\"default\"])\n    } : {},\n    providers: [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n            name: \"Credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"text\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials) {\n                    return null;\n                }\n                const { email, password } = credentials;\n                try {\n                    // Fetch the user from MongoDB\n                    const user = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_4__.getUserByEmail)(email);\n                    if (!user) {\n                        console.log(`No user found with email: ${email}`);\n                        return null;\n                    }\n                    // Verify the password\n                    const isValid = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_4__.verifyPassword)(password, user.password);\n                    if (!isValid) {\n                        console.log('Invalid password');\n                        return null;\n                    }\n                    // Return a user object excluding the password\n                    return {\n                        id: user._id.toString(),\n                        email: user.email,\n                        name: user.name || ''\n                    };\n                } catch (error) {\n                    console.error('Error in authorize:', error);\n                    throw new Error('Authentication failed');\n                }\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\"\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.id = user.id;\n                token.name = user.name;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token) {\n                session.user.id = token.id;\n                if (token.name) {\n                    session.user.name = token.name;\n                }\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: \"/login\",\n        error: \"/login\"\n    },\n    secret: process.env.NEXTAUTH_SECRET || \"a-strong-secret-for-development-only\",\n    debug: \"development\" === 'development'\n}));\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQWlDO0FBQ2lDO0FBQ047QUFDWDtBQUNrQjtBQUVuRSxrQ0FBa0M7QUFDbEMsSUFBSU0sbUJBQW1CO0FBQ3RCO0lBQ0MsSUFBSTtRQUNGLE1BQU1DLFNBQVMsTUFBTUosb0RBQWFBO1FBQ2xDLE1BQU1LLFNBQVMsTUFBTUQsT0FBT0UsRUFBRSxHQUFHQyxPQUFPLENBQUM7WUFBRUMsTUFBTTtRQUFFO1FBQ25ELElBQUlILE9BQU9JLEVBQUUsS0FBSyxHQUFHO1lBQ25CQyxRQUFRQyxHQUFHLENBQUM7WUFDWlIsbUJBQW1CO1FBQ3JCO0lBQ0YsRUFBRSxPQUFPUyxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQyw2QkFBNkJBO0lBQzdDO0FBQ0Y7QUFFQSxpRUFBZWYsZ0RBQVFBLENBQUM7SUFDdEIsR0FBSU0sbUJBQW1CO1FBQUVVLFNBQVNkLDBFQUFjQSxDQUFDQyxvREFBYUE7SUFBRSxJQUFJLENBQUMsQ0FBQztJQUN0RWMsV0FBVztRQUNUaEIsc0VBQW1CQSxDQUFDO1lBQ2xCaUIsTUFBTTtZQUNOQyxhQUFhO2dCQUNYQyxPQUFPO29CQUFFQyxPQUFPO29CQUFTQyxNQUFNO2dCQUFPO2dCQUN0Q0MsVUFBVTtvQkFBRUYsT0FBTztvQkFBWUMsTUFBTTtnQkFBVztZQUNsRDtZQUNBLE1BQU1FLFdBQVVMLFdBQVc7Z0JBQ3pCLElBQUksQ0FBQ0EsYUFBYTtvQkFDaEIsT0FBTztnQkFDVDtnQkFFQSxNQUFNLEVBQUVDLEtBQUssRUFBRUcsUUFBUSxFQUFFLEdBQUdKO2dCQUU1QixJQUFJO29CQUNGLDhCQUE4QjtvQkFDOUIsTUFBTU0sT0FBTyxNQUFNckIseURBQWNBLENBQUNnQjtvQkFFbEMsSUFBSSxDQUFDSyxNQUFNO3dCQUNUWixRQUFRQyxHQUFHLENBQUMsQ0FBQywwQkFBMEIsRUFBRU0sT0FBTzt3QkFDaEQsT0FBTztvQkFDVDtvQkFFQSxzQkFBc0I7b0JBQ3RCLE1BQU1NLFVBQVUsTUFBTXJCLHlEQUFjQSxDQUFDa0IsVUFBVUUsS0FBS0YsUUFBUTtvQkFFNUQsSUFBSSxDQUFDRyxTQUFTO3dCQUNaYixRQUFRQyxHQUFHLENBQUM7d0JBQ1osT0FBTztvQkFDVDtvQkFFQSw4Q0FBOEM7b0JBQzlDLE9BQU87d0JBQ0xhLElBQUlGLEtBQUtHLEdBQUcsQ0FBQ0MsUUFBUTt3QkFDckJULE9BQU9LLEtBQUtMLEtBQUs7d0JBQ2pCRixNQUFNTyxLQUFLUCxJQUFJLElBQUk7b0JBQ3JCO2dCQUNGLEVBQUUsT0FBT0gsT0FBTztvQkFDZEYsUUFBUUUsS0FBSyxDQUFDLHVCQUF1QkE7b0JBQ3JDLE1BQU0sSUFBSWUsTUFBTTtnQkFDbEI7WUFDRjtRQUNGO0tBQ0Q7SUFDREMsU0FBUztRQUNQQyxVQUFVO0lBQ1o7SUFDQUMsV0FBVztRQUNULE1BQU1DLEtBQUksRUFBRUMsS0FBSyxFQUFFVixJQUFJLEVBQUU7WUFDdkIsSUFBSUEsTUFBTTtnQkFDUlUsTUFBTVIsRUFBRSxHQUFHRixLQUFLRSxFQUFFO2dCQUNsQlEsTUFBTWpCLElBQUksR0FBR08sS0FBS1AsSUFBSTtZQUN4QjtZQUNBLE9BQU9pQjtRQUNUO1FBQ0EsTUFBTUosU0FBUSxFQUFFQSxPQUFPLEVBQUVJLEtBQUssRUFBRTtZQUM5QixJQUFJQSxPQUFPO2dCQUNUSixRQUFRTixJQUFJLENBQUNFLEVBQUUsR0FBR1EsTUFBTVIsRUFBRTtnQkFDMUIsSUFBSVEsTUFBTWpCLElBQUksRUFBRTtvQkFDZGEsUUFBUU4sSUFBSSxDQUFDUCxJQUFJLEdBQUdpQixNQUFNakIsSUFBSTtnQkFDaEM7WUFDRjtZQUNBLE9BQU9hO1FBQ1Q7SUFDRjtJQUNBSyxPQUFPO1FBQ0xDLFFBQVE7UUFDUnRCLE9BQU87SUFDVDtJQUNBdUIsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxlQUFlLElBQUk7SUFDdkNDLE9BQU9ILGtCQUF5QjtBQUNsQyxFQUFFLEVBQUMiLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2UvcGFnZXMvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTmV4dEF1dGggZnJvbSBcIm5leHQtYXV0aFwiO1xuaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHNcIjtcbmltcG9ydCB7IE1vbmdvREJBZGFwdGVyIH0gZnJvbSBcIkBuZXh0LWF1dGgvbW9uZ29kYi1hZGFwdGVyXCI7XG5pbXBvcnQgY2xpZW50UHJvbWlzZSBmcm9tIFwiLi4vLi4vLi4vbGliL21vbmdvZGJcIjtcbmltcG9ydCB7IGdldFVzZXJCeUVtYWlsLCB2ZXJpZnlQYXNzd29yZCB9IGZyb20gXCIuLi8uLi8uLi9saWIvYXV0aFwiO1xuXG4vLyBEbyBhIHRlc3QgY29ubmVjdGlvbiB0byBNb25nb0RCXG5sZXQgbW9uZ29EYkNvbm5lY3RlZCA9IGZhbHNlO1xuKGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5kYigpLmNvbW1hbmQoeyBwaW5nOiAxIH0pO1xuICAgIGlmIChyZXN1bHQub2sgPT09IDEpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiTW9uZ29EQiBjb25uZWN0aW9uIHN1Y2Nlc3NmdWxcIik7XG4gICAgICBtb25nb0RiQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIk1vbmdvREIgY29ubmVjdGlvbiBlcnJvcjpcIiwgZXJyb3IpO1xuICB9XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBOZXh0QXV0aCh7XG4gIC4uLihtb25nb0RiQ29ubmVjdGVkID8geyBhZGFwdGVyOiBNb25nb0RCQWRhcHRlcihjbGllbnRQcm9taXNlKSB9IDoge30pLFxuICBwcm92aWRlcnM6IFtcbiAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcbiAgICAgIG5hbWU6IFwiQ3JlZGVudGlhbHNcIixcbiAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgIGVtYWlsOiB7IGxhYmVsOiBcIkVtYWlsXCIsIHR5cGU6IFwidGV4dFwiIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7IGxhYmVsOiBcIlBhc3N3b3JkXCIsIHR5cGU6IFwicGFzc3dvcmRcIiB9LFxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gY3JlZGVudGlhbHM7XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZldGNoIHRoZSB1c2VyIGZyb20gTW9uZ29EQlxuICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRVc2VyQnlFbWFpbChlbWFpbCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTm8gdXNlciBmb3VuZCB3aXRoIGVtYWlsOiAke2VtYWlsfWApO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFZlcmlmeSB0aGUgcGFzc3dvcmRcbiAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gYXdhaXQgdmVyaWZ5UGFzc3dvcmQocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ludmFsaWQgcGFzc3dvcmQnKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZXR1cm4gYSB1c2VyIG9iamVjdCBleGNsdWRpbmcgdGhlIHBhc3N3b3JkXG4gICAgICAgICAgcmV0dXJuIHsgXG4gICAgICAgICAgICBpZDogdXNlci5faWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lIHx8ICcnLFxuICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gYXV0aG9yaXplOicsIGVycm9yKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZCcpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pLFxuICBdLFxuICBzZXNzaW9uOiB7XG4gICAgc3RyYXRlZ3k6IFwiand0XCIsXG4gIH0sXG4gIGNhbGxiYWNrczoge1xuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyIH0pIHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLmlkID0gdXNlci5pZDtcbiAgICAgICAgdG9rZW4ubmFtZSA9IHVzZXIubmFtZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9LFxuICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KSB7XG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgc2Vzc2lvbi51c2VyLmlkID0gdG9rZW4uaWQ7XG4gICAgICAgIGlmICh0b2tlbi5uYW1lKSB7XG4gICAgICAgICAgc2Vzc2lvbi51c2VyLm5hbWUgPSB0b2tlbi5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICB9LFxuICB9LFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogXCIvbG9naW5cIixcbiAgICBlcnJvcjogXCIvbG9naW5cIiwgLy8gRXJyb3IgY29kZSBwYXNzZWQgaW4gcXVlcnkgc3RyaW5nIGFzID9lcnJvcj1cbiAgfSxcbiAgc2VjcmV0OiBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQgfHwgXCJhLXN0cm9uZy1zZWNyZXQtZm9yLWRldmVsb3BtZW50LW9ubHlcIixcbiAgZGVidWc6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnLFxufSk7Il0sIm5hbWVzIjpbIk5leHRBdXRoIiwiQ3JlZGVudGlhbHNQcm92aWRlciIsIk1vbmdvREJBZGFwdGVyIiwiY2xpZW50UHJvbWlzZSIsImdldFVzZXJCeUVtYWlsIiwidmVyaWZ5UGFzc3dvcmQiLCJtb25nb0RiQ29ubmVjdGVkIiwiY2xpZW50IiwicmVzdWx0IiwiZGIiLCJjb21tYW5kIiwicGluZyIsIm9rIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiYWRhcHRlciIsInByb3ZpZGVycyIsIm5hbWUiLCJjcmVkZW50aWFscyIsImVtYWlsIiwibGFiZWwiLCJ0eXBlIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJ1c2VyIiwiaXNWYWxpZCIsImlkIiwiX2lkIiwidG9TdHJpbmciLCJFcnJvciIsInNlc3Npb24iLCJzdHJhdGVneSIsImNhbGxiYWNrcyIsImp3dCIsInRva2VuIiwicGFnZXMiLCJzaWduSW4iLCJzZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVEFVVEhfU0VDUkVUIiwiZGVidWciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/auth/[...nextauth].js\n");

/***/ }),

/***/ "@next-auth/mongodb-adapter":
/*!*********************************************!*\
  !*** external "@next-auth/mongodb-adapter" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = require("@next-auth/mongodb-adapter");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = import("bcryptjs");;

/***/ }),

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next-auth/react":
/*!**********************************!*\
  !*** external "next-auth/react" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("next-auth/react");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();